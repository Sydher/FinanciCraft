<p-toast></p-toast>

<h1>Configuration de l'application</h1>

<!-- Catégories -->
<h2>
    <i class="pi pi-table"></i>
    Catégories
</h2>

<div class="card mb-3">
    <p-toolbar styleClass="mb-4 gap-2">
        <ng-template pTemplate="left">
            <button pButton pRipple label="Ajouter" icon="pi pi-plus" class="p-button-success mr-2"
                (click)="openNew()"></button>
            <!-- <button pButton pRipple label="Supprimer la sélection" icon="pi pi-trash" class="p-button-danger" (click)="deleteSelectedProducts()" [disabled]="!selectedProducts || !selectedProducts.length"></button> -->
        </ng-template>
    </p-toolbar>

    <p-table [value]="categories">
        <ng-template pTemplate="header">
            <tr>
                <th>Code</th>
                <th>Name</th>
                <th>Category</th>
                <th>Quantity</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-category>
            <tr>
                <td>{{ category.id }}</td>
                <td>{{ category.name }}</td>
                <td>{{ category.icon }}</td>
                <td>{{ category.color }}</td>
            </tr>
        </ng-template>
    </p-table>
</div>

<p-dialog [(visible)]="dialogAddCategory" header="Ajouter une catégorie" [modal]="true" styleClass="p-fluid">
    <ng-template pTemplate="content">
        <form [formGroup]="formCreateCategory">
            <p-inputGroup>
                <p-inputGroupAddon>
                    <i class="pi pi-user"></i>
                </p-inputGroupAddon>
                <input pInputText placeholder="name" formControlName="name">
            </p-inputGroup>
            <p-inputGroup>
                <p-inputGroupAddon>
                    <i class="pi pi-user"></i>
                </p-inputGroupAddon>
                <input pInputText placeholder="icon" formControlName="icon">
            </p-inputGroup>
            <p-inputGroup>
                <p-inputGroupAddon>
                    <i class="pi pi-user"></i>
                </p-inputGroupAddon>
                <input pInputText placeholder="color" formControlName="color">
            </p-inputGroup>
            <!-- @if (formCreateCategory.valid) {
            <button type="submit" class="btn btn-success" (click)="addCategory()">Ajouter</button>
            }
            @else {
            <button type="submit" class="btn btn-success" disabled>Ajouter</button>
            } -->
        </form>
    </ng-template>

    <ng-template pTemplate="footer">
        <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="closeNew()"></button>
        <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="addCategory()"></button>
    </ng-template>
</p-dialog>